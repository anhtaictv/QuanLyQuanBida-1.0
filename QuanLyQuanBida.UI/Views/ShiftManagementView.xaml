<Window x:Class="QuanLyQuanBida.UI.Views.ShiftManagementView"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:QuanLyQuanBida.UI.Views"
        xmlns:viewmodels="clr-namespace:QuanLyQuanBida.UI.ViewModels"
        mc:Ignorable="d"
        Title="Quản lý Ca làm việc" Height="450" Width="400"
        WindowStartupLocation="CenterScreen">

	<Grid Margin="20">
		<StackPanel Visibility="{Binding IsShiftOpen, Converter={StaticResource InverseBooleanConverter}}">
			<TextBlock Text="MỞ CA LÀM VIỆC" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,20"/>
			<Label Content="Người dùng:"/>
			<TextBox Text="{Binding DataContext.CurrentUser.FullName, RelativeSource={RelativeSource AncestorType=Window}}" IsReadOnly="True" Height="25" Margin="0,0,0,10"/>

			<Label Content="Tiền mặt đầu ca:"/>
			<TextBox Text="{Binding OpeningCash, StringFormat='{}{0:N0}'}" Height="25" Margin="0,0,0,20"/>

			<Button Content="MỞ CA" Height="40" Command="{Binding OpenShiftCommand}"/>
		</StackPanel>

		<StackPanel Visibility="{Binding IsShiftOpen, Converter={StaticResource BooleanToVisibilityConverter}}">
			<TextBlock Text="ĐÓNG CA LÀM VIỆC" FontSize="20" FontWeight="Bold" HorizontalAlignment="Center" Margin="0,0,0,20"/>
			<Label Content="Ca bắt đầu lúc:"/>
			<TextBox Text="{Binding CurrentShift.StartAt, StringFormat='{}{0:HH:mm dd/MM/yyyy}'}" IsReadOnly="True" Height="25" Margin="0,0,0,10"/>

			<Label Content="Tiền mặt đầu ca:"/>
			<TextBox Text="{Binding OpeningCash, StringFormat='{}{0:N0}'}" IsReadOnly="True" Height="25" Margin="0,0,0,10"/>

			<Label Content="Doanh thu tiền mặt (tạm tính):"/>
			<TextBox Text="{Binding CashRevenueInShift, StringFormat='{}{0:N0}'}" IsReadOnly="True" Height="25" Margin="0,0,0,10"/>

			<Label Content="Tiền mặt cuối ca (thực tế):"/>
			<TextBox Text="{Binding ClosingCash, StringFormat='{}{0:N0}'}" Height="25" Margin="0,0,0,10"/>

			<Label Content="Ghi chú:"/>
			<TextBox Text="{Binding Notes}" Height="50" TextWrapping="Wrap" Margin="0,0,0,20"/>

			<Button Content="ĐÓNG CA" Height="40" Command="{Binding CloseShiftCommand}" Background="OrangeRed"/>
		</StackPanel>
	</Grid>
</Window>